# 架构决策记录 (ADR) 索引

**最后更新**: 2025-11-19

这个文档记录项目中重要的学习路径决策和技术选型，帮助理解"为什么这么组织学习内容"。

## 📋 什么是 ADR？

ADR (Architecture Decision Record) 是用于记录重要决策的文档。在学习项目中，我们用它记录：
- 为什么选择某个学习路径
- 为什么采用某种项目结构
- 为什么使用某个技术栈

## 🎯 决策记录列表

### ADR-001: 采用模块化学习结构 (2025-11-19)

**决策**: 将不同技术栈分离为独立的学习模块（learn_xxx）

**背景**:
- 需要同时学习多个技术栈
- 不同技术栈的学习进度不同
- 需要灵活调整学习重点

**决策理由**:
- ✅ 每个模块可以独立发展，互不干扰
- ✅ 方便切换学习重点
- ✅ 便于 AI 理解项目结构
- ✅ 方便复用和分享

**替代方案**:
- ❌ 按技术分类（前端/后端/工具）- 太宽泛，不利于聚焦
- ❌ 单一大项目 - 混乱，难以维护

**影响**:
- 需要在根目录维护统一的导航系统
- 需要在各模块间建立关联（如 Java 到 C++ 的迁移指南）

---

### ADR-002: 使用基于场景的文档索引 (2025-11-19)

**决策**: 使用"我要做什么"作为文档索引的组织方式

**背景**:
- AI 不知道应该读哪些文档
- 用户查找文档效率低
- 传统的"有什么文档"索引不直观

**决策理由**:
- ✅ 任务导向，符合实际使用场景
- ✅ 减少 AI 的 token 浪费
- ✅ 提高查找效率
- ✅ 明确的场景 → 文档映射

**替代方案**:
- ❌ 按文档类型分类（API/测试/架构）- 需要盲目浏览
- ❌ 扁平化所有文档 - 信息过载

**影响**:
- 需要维护场景驱动索引（docs/INDEX.md）
- 需要清晰标注每个文档的使用场景

---

### ADR-003: 文档分层系统 (2025-11-19)

**决策**: 采用三层文档结构（核心/规范/决策）

**背景**:
- 文档过多会影响 AI 理解效率
- 文档过少会缺少必要信息
- 需要平衡详细程度和可读性

**决策理由**:
- ✅ 核心文档控制在 4 个，快速理解项目
- ✅ 规范文档按需查阅，不增加初始认知负担
- ✅ 决策文档解释"为什么"，避免盲目修改
- ✅ 符合"Token 效率优先"原则

**文档分层**:
```
第一层（核心）: README, CLAUDE.md, PROJECT_STATUS.md, FEATURE_CODE_MAP.md
第二层（规范）: docs/standards/
第三层（决策）: docs/decisions/
```

**影响**:
- AI 只需读第一层就能开始工作
- 遇到特定问题时才查阅第二、三层
- 需要在核心文档中明确指引何时查阅其他文档

---

### ADR-004: 学习项目的宽松规范 (2025-11-19)

**决策**: 学习项目不强制要求生产环境的严格规范

**背景**:
- 学习的目的是理解概念，不是写生产代码
- 过度规范会增加学习负担
- 允许"错误"也是学习的一部分

**决策理由**:
- ✅ 降低学习门槛，专注概念理解
- ✅ 允许多种实现方式并存（对比学习）
- ✅ 保持代码简单易懂比严格规范更重要
- ✅ 提高学习效率和积极性

**宽松的方面**:
- ⏸️ 代码风格（不强制统一）
- ⏸️ 测试覆盖（非必须）
- ⏸️ 错误处理（可以简化）
- ⏸️ 性能优化（不是重点）

**仍然保持的规范**:
- ✅ 文档必须清晰
- ✅ 代码必须有注释
- ✅ 文件组织必须合理
- ✅ 功能映射必须更新

**影响**:
- 代码可读性和教学性优先于工程规范
- 允许保留"错误"的实现作为学习对比
- AI 不应该过度优化学习代码

---

## 📝 如何添加新的 ADR

### 决策记录模板

```markdown
### ADR-XXX: 决策标题 (日期)

**决策**: 一句话描述决策

**背景**:
- 问题是什么？
- 为什么需要做这个决策？

**决策理由**:
- ✅ 为什么选择这个方案？
- ✅ 有哪些优势？

**替代方案**:
- ❌ 方案A - 为什么不选？
- ❌ 方案B - 为什么不选？

**影响**:
- 这个决策会影响什么？
- 需要做哪些相应的调整？
```

### 什么时候添加 ADR

✅ **应该添加**:
- 重要的学习路径调整
- 项目结构的重大变化
- 技术栈的选择和替换
- 文档系统的设计决策

❌ **不需要添加**:
- 日常学习内容添加
- 简单的文档更新
- 小的代码调整
- 临时性的实验

---

## 🔗 相关文档

- [项目总览](../../README.md)
- [AI 操作指南](../../CLAUDE.md)
- [项目状态](../../PROJECT_STATUS.md)
- [场景驱动索引](../INDEX.md)

---

**注意**: ADR 一旦写入就不应该修改（除了修正错误），如果决策变化，应该添加新的 ADR 说明为什么改变。
